products = {}

def menu():
    print("\nBIENVENIDO AL INVENTARIO")
    print("=====MENU DE OPCIONES====")
    print("1.) A√±adir producto")
    print("2.) Consultar Producto")
    print("3.) Actualizar producto")
    print("4.) Calcular el valor total del inventario")
    print("5.) Salir")
    return int(input("\nPor favor selecciona una opci√≥n: "))

def show_all_products():
    print("\n--- PRODUCTOS REGISTRADOS ---")
    for name, details in products.items():
        print(f"{name}: Precio ${details['price']} - Cantidad: {details['quantity']}")

while True:
    answer = menu()

    match answer:
        case 1:
            print("\n--- AGREGAR PRODUCTO ---")
            # Opci√≥n para agregar m√∫ltiples productos
            while True:
                nameproduct = input("\nNombre del producto (o 'salir' para terminar): ")
                if nameproduct.lower() == 'salir':
                    break
                
                try:
                    price = float(input("Precio del producto: "))
                    quantity = int(input("Cantidad del producto: "))
                    
                    products[nameproduct] = {
                        "price": price,
                        "quantity": quantity
                    }
                    print(f"‚úÖ Producto '{nameproduct}' agregado correctamente.")
                except ValueError:
                    print("‚ùå Error: Ingresa valores num√©ricos para precio y cantidad")

        case 2:
            print("\n--- CONSULTAR PRODUCTO ---")
            if not products:
                print("No hay productos registrados.")
                continue
                
            show_all_products()
            search_name = input("\nIngresa el nombre del producto a consultar: ")
            
            if search_name in products:
                print("\nüìã Informaci√≥n del producto:")
                print(f"Nombre: {search_name}")
                print(f"Precio: ${products[search_name]['price']}")
                print(f"Cantidad: {products[search_name]['quantity']}")
                print(f"Valor total: ${products[search_name]['price'] * products[search_name]['quantity']}")
            else:
                print("‚ùå Producto no encontrado")

        case 3:
            print("\n--- ACTUALIZAR PRODUCTO ---")
            if not products:
                print("No hay productos registrados.")
                continue
                
            show_all_products()
            product_name = input("\nIngresa el nombre del producto a actualizar: ")
            
            if product_name in products:
                print("\nDeja en blanco los campos que no deseas cambiar")
                try:
                    new_price = input(f"Nuevo precio (actual: {products[product_name]['price']}): ")
                    new_quantity = input(f"Nueva cantidad (actual: {products[product_name]['quantity']}): ")
                    
                    if new_price:
                        products[product_name]['price'] = float(new_price)
                    if new_quantity:
                        products[product_name]['quantity'] = int(new_quantity)
                    
                    print(f"‚úÖ Producto '{product_name}' actualizado correctamente.")
                except ValueError:
                    print("‚ùå Error: Ingresa valores num√©ricos v√°lidos")
            else:
                print("‚ùå Producto no encontrado")

        case 4:
            print("\n--- VALOR TOTAL DEL INVENTARIO ---")
            if not products:
                print("No hay productos registrados.")
                continue
                
            total_value = 0
            print("\nDetalle del inventario:")
            for name, details in products.items():
                product_value = details['price'] * details['quantity']
                total_value += product_value
                print(f"{name}: {details['quantity']} x ${details['price']} = ${product_value}")
            
            print(f"\nüíµ VALOR TOTAL DEL INVENTARIO: ${total_value}")

        case 5:
            print("\n¬°Gracias por usar el sistema de inventario!")
            break

        case _:
            print("\n‚ùå Opci√≥n no v√°lida. Por favor selecciona una opci√≥n del 1 al 5.")
