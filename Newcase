case 3:
    print("\n--- ACTUALIZAR PRODUCTO ---")
    if not products:
        print("No hay productos registrados.")
        continue
        
    show_all_products()
    product_name = input("\nIngresa el nombre del producto a actualizar: ")
    
    if product_name in products:
        print("\nDeja en blanco los campos que no deseas cambiar")
        try:
            # Validación para el precio (debe ser positivo)
            new_price = input(f"Nuevo precio (actual: {products[product_name]['price']}): ")
            if new_price:
                new_price = float(new_price)
                if new_price <= 0:
                    print("❌ Error: El precio debe ser un número positivo")
                    continue
                products[product_name]['price'] = new_price
            
            # Validación para la cantidad (debe ser positivo y entero)
            new_quantity = input(f"Nueva cantidad (actual: {products[product_name]['quantity']}): ")
            if new_quantity:
                new_quantity = int(new_quantity)
                if new_quantity < 0:
                    print("❌ Error: La cantidad debe ser un número entero positivo")
                    continue
                products[product_name]['quantity'] = new_quantity
            
            print(f"✅ Producto '{product_name}' actualizado correctamente.")
        
        except ValueError:
            print("❌ Error: Ingresa valores numéricos válidos")
    else:
        print("❌ Producto no encontrado")
